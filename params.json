{"name":"Project_Rmod","tagline":"Taller Regresión Lineal","body":"---\r\ntitle: \"Relationship between transmission and miles per gallon\"\r\nauthor: 'By: Natalia clivio'\r\ndate: \"Monday, July 21, 2014\"\r\noutput: html_document\r\n---\r\n\r\n##Executive Summary\r\nThis report sets use the work for Motor Trend, about the automobile industry. This analysis explore the relationship between the transmission and miles per gallon (MPG). They are particularly interested the following two questions:\r\n\r\n* Is an automatic or manual transmission better for MPG?\r\n* Quantify the MPG difference between automatic and manual transmissions?\r\n\r\n##Analysis\r\nThe dataset is mtcars, taken from datasets library from R. It has 32 observations and 11 variables.\r\n\r\n**1. Preliminary Exploration of the Data**  \r\nThere are 11 variables, since we are interested in the relationshp between mpg and other variables. \r\n\r\n```{r}\r\ndata(mtcars)\r\nnames(mtcars)\r\n```\r\n\r\nwe first check the correlation between mpg and other variables, by means of the *cor()* function.Where mtcars[,-1] is the dataframe without mpg. \r\n\r\n```{r}\r\ncor(mtcars$mpg,mtcars[,-1])\r\n```\r\n\r\nFrom the correlation data, we could see cyl, hp, wt and carb are negatively correlated with mpg.\r\n\r\n\r\n**2. Exploratory Analysis**  \r\nFor this analysis we will use only the **mpg** and **am** variable so the data will be prepped accordingly. To assess whether the mpg is better for automatic or manual transmission, we will first perform an exploratory data analysis. Specifically, we will produce a box-whisker plot to see the pattern of the distribution and also to get an idea about the summary statistics.\r\n\r\n```{r}\r\ndatacar<-mtcars[c(\"am\",\"mpg\")]\r\n```\r\n\r\nThe box-whisker plot of mpg over transmission mechanism shows that the median mpg is lower in automatic transmission compared to its manual counterpart. Also from the plot we see that the variation in mpg in manual transmission is larger than automatic transmission. \r\n\r\n*See Figure 1 in Appendix\r\n\r\nThe first quartile of manual transmission is higher than the 3rd quartile of automatic transmission. The result clearly indicates both groups have a very different mpg average. This could be supported by the *t.test()* function.\r\n\r\n```{r}\r\nt.test(datacar$mpg~datacar$am,conf.level=0.95)\r\n```\r\n\r\n\r\n**3. Linear Regression**  \r\nA linear regression is performed to assess whether there is any difference in the average mpg between groups. It´s with mpg as dependent variable and the am as independent variable.\r\nThe estimated difference is represented by the coefficient of am variable in the model along with p-value.\r\n\r\n```{r}\r\nlmcar<-lm(mpg~am,datacar)\r\ncoef(summary(lmcar))\r\n```\r\n\r\n95% confidence interval of the difference is represented by the confidence interval of the am variable\r\n\r\n```{r}\r\nconfint(lmcar)\r\n```\r\n\r\nThe regression coefficient indicates that the average mpg for manual transmission is 7.24 units higher compared to automatic transmissions. The confidence interval and the p-value indicate that the difference in mpg between groups is statistically different from zero.\r\n\r\nTo Quantifying how different is the MPG between automatic and manual transmissions, is usefull the residual analysis.\r\nHere we adopt a stepwise algorithm to choose the best model by using *step()* function\r\n\r\n```{r}\r\nstepmodel = step(lm(data = mtcars, mpg ~ .),trace=0,steps=10000)\r\nsummary(stepmodel)\r\n```\r\n\r\nWe got a model which includes 3 variables **wt**, **qsec** and **am**. This model captured 0.85 of total variance. \r\n\r\nTo further optimize the model, we examine **mpg ~ wt + qsec** and controled by **am**\r\n\r\n```{r}\r\ncarmodel <- lm(mpg~ factor(am):wt + factor(am):qsec,data=mtcars)\r\nsummary(carmodel)\r\n```\r\n\r\nTo interpret the results, we could see this model captured 89.5% of total variance and adjusted variance is 0.879 - which is quite good. In the coefficents section, we could see when the weight increased 1000 lbs, the mpg decreased, -3.176 miles for autocars and -6.09 miles for manual cars - implicating when the weight of car increased - it might be better to choose manual cars. \r\n\r\nFor the qsec part, when the accelaration speed droped and ¼ mile time increased 1 secs, the mpg increased 0.834 miles for automatic cars and 1.446 miles for manual cars - this implys that if the car has low accelation speed at same weight, manual cars is better for mpg. \r\n\r\nFinally we plot the residue and diagnostic plot for this linear model.\r\n\r\n*See Figure 2 in Appendix\r\n\r\n\r\n##Conclusion\r\nBased on the analysis and statistical evidence we could say that the average mpg is higher in the manual transmission group. But this conclusion might change if we consider other variables in the analysis, because the mpg is largely determined by the interplay between weight, accelaration and tramsmission.\r\n\r\nTherefore given the above analysis to get complete understanding, further analysis is needed to consider other variables such as weight, number of gears, etc.\r\n\r\n\r\n##Apendix\r\n\r\n###Figure 1\r\n\r\nBoxplot is the compare summary statistics between two group (automatic vs manual) transmission\r\n\r\n```{r, echo=FALSE}\r\nboxplot(datacar$mpg~factor(datacar$am,label=c(\"Automatic\",\"Manual\")),\r\n        col= \"pink\", main=\"Boxplot of MPG over transmission method\",xlab=\"Transmission\",ylab=\"MPG\")\r\n```\r\n\r\n\r\n###Figure 2\r\n\r\nThe residual check and diagnostics plot\r\n\r\n```{r, echo=FALSE}\r\npar(mfrow=c(2, 2))\r\nplot(carmodel)\r\n```\r\n\r\nNote that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.\r\n\r\n\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}